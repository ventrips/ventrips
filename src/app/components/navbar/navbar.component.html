<nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom">
  <a [routerLink]="['']" [title]="environment?.name" class="navbar-brand text-warning text-capitalize">{{environment?.name}}</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#customNavBar" aria-controls="customNavBar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="customNavBar">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a [routerLink]="['']" [ngClass]="{'active': isActive('')}" class="nav-link" title="Home" >
          Home
        </a>
      </li>
      <li *ngFor="let item of navBarLinks" [ngClass]="{'active': isActive(item?.url)}" class="nav-item">
        <a [routerLink]="['', item?.url]" [title]="item?.title" class="nav-link">
          {{item?.title}}
          <span *ngIf="isActive(item?.url)" class="sr-only">(current)</span>
        </a>
      </li>
      <li class="nav-item" *ngIf="!user">
        <div class="nav-link cursor-pointer" title="Log In" (click)="login()">
          <span>Log In</span>
        </div>
      </li>
      <li class="nav-item dropdown cursor-pointer" *ngIf="user">
        <a class="nav-link dropdown-toggle" title="User Dropdown" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
          [ngClass]="{'active': isActive('/admin')}">
          <img class="rounded-circle profile-picture mr-3" [src]="user?.photoURL" alt="Profile Picture">
          <span>{{user?.displayName}}</span>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown" data-toggle="collapse" data-target=".navbar-collapse.collapse.show">
          <ng-container *ngIf="authService?.isAdmin(user)">
              <a class="dropdown-item" title="Admin" [routerLink]="['/admin']" [ngClass]="{'active': isActive('/admin')}">
                Admin
              </a>
              <div class="dropdown-divider"></div>
          </ng-container>
          <ng-container *ngIf="authService?.canEdit(user)">
            <a class="dropdown-item" title="Profile" [routerLink]="['/profile', user?.uid]" [ngClass]="{'active': isActive('/profile')}">
              Profile
            </a>
            <div class="dropdown-divider"></div>
          </ng-container>
          <a class="dropdown-item" (click)="authService.signOut()">
            Log Out
          </a>
        </div>
      </li>
    </ul>
  </div>
</nav>